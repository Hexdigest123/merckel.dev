# =============================================================================
# Application
# =============================================================================
# SvelteKit ORIGIN — REQUIRED in production for CSRF protection
ORIGIN=https://merckel.dev
# Port the app listens on inside the container
APP_PORT=3000

# =============================================================================
# Database
# =============================================================================
# Direct connection string (used by app and drizzle-kit)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/merckel

# Individual DB credentials (used by docker-compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=merckel
POSTGRES_PORT=5432
POSTGRES_EXPOSE_PORT=5432
POSTGRES_VERSION=17

# =============================================================================
# DB Connection Retry (app-level backoff)
# =============================================================================
DB_MAX_RETRIES=5
DB_RETRY_BASE_DELAY_MS=500

# =============================================================================
# Docker Compose — Deploy / Restart Backoff
# =============================================================================
RESTART_DELAY=5s
RESTART_MAX_ATTEMPTS=5
RESTART_WINDOW=120s

# =============================================================================
# Docker Compose — Resource Limits
# =============================================================================
APP_MEMORY_LIMIT=512M
APP_CPU_LIMIT=1.0
DB_MEMORY_LIMIT=256M
DB_CPU_LIMIT=0.5

# =============================================================================
# GitHub API (optional — open source section uses fallback data without it)
# =============================================================================
GITHUB_TOKEN=
